# FastAPI Onion Template

–®–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ **FastAPI**, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **–ª—É–∫–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**.  
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ —Å–ª–æ–∏, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

.
‚îú‚îÄ‚îÄ application/       # –°–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (use-cases, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îú‚îÄ‚îÄ domain/            # –°–ª–æ–π –¥–æ–º–µ–Ω–∞ (—Å—É—â–Ω–æ—Å—Ç–∏, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
‚îú‚îÄ‚îÄ infrastructure/    # –°–ª–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ë–î, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã)
‚îú‚îÄ‚îÄ presentation/      # –°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (FastAPI endpoints, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, DI)
‚îú‚îÄ‚îÄ tests/             # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docker/            # Docker-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è dev/test/prod –æ–∫—Ä—É–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ pyproject.toml     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (poetry)
‚îî‚îÄ‚îÄ README.md

````

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∏:

- **Domain**  
  –ß–∏—Å—Ç—ã–π —Å–ª–æ–π —Å –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ (–ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏). –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

- **Application**  
  Use-case —Å–ª–æ–π: —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–º–µ–Ω–∞ –∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.

- **Infrastructure**  
  –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –±—Ä–æ–∫–µ—Ä–∞–º–∏ –∏ —Ç.–¥.).

- **Presentation**  
  –í–µ–±-—Å–ª–æ–π: FastAPI —Ä–æ—É—Ç—ã, DTO, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, DI –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–ó–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ **Docker Compose**.  
–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞–¥–∏–∏ (`dev`, `test`, `prod`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ `.env` —Ñ–∞–π–ª—ã –∏ —Ä–∞–∑–Ω—ã–µ compose-—Ñ–∞–π–ª—ã.

 –ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤:

- –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: `.env.dev` ‚Üí —Å–æ–∑–¥–∞—ë–º –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.dev.example`
- –î–ª—è —Ç–µ—Å—Ç–æ–≤: `.env.test` ‚Üí —Å–æ–∑–¥–∞—ë–º –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.test.example`
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞: `.env.prod` ‚Üí —Å–æ–∑–¥–∞—ë–º –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.prod.example`


### –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
docker compose --env-file .env.test -f docker-compose.test.yml up --build
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
docker compose --env-file .env.dev -f docker-compose.dev.yml up --build
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
docker compose --env-file .env.prod -f docker-compose.prod.yml up --build -d
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç—ã –ª–µ–∂–∞—Ç –≤ –ø–∞–ø–∫–µ `tests/` –∏ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

–ó–∞–ø—É—Å–∫:

```bash
poetry run pytest
```

–∏–ª–∏ –≤ Docker:

```bash
docker compose run --rm app pytest
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —à–∞–±–ª–æ–Ω–∞

* –ß–∏—Å—Ç–∞—è **–ª—É–∫–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
* –õ—ë–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.
* –ì–∏–±–∫–∞—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: —É–¥–æ–±–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–ª–æ–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **Docker** –∏ **Poetry** –∏–∑ –∫–æ—Ä–æ–±–∫–∏.
* –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è **CI/CD** –∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## üìñ –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

* [FastAPI Documentation](https://fastapi.tiangolo.com/)
* [Domain-Driven Design](https://martinfowler.com/tags/domain%20driven%20design.html)
* [The Onion Architecture](https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/)

---
